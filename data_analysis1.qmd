---
title: "Project 2: Preliminary Analysis"
author: "Lucy Watts, Natalie Lau, Catherine Weeks, and Nandir Altansukh"
format: html
---

## Preliminary Data Analysis


```{r}
library(ggplot2)
```


Tempo in comparison to popularity
```{r}
ggplot(data = spotify_songs_cleaned,
       aes(x = tempo, y = track_popularity)) +
  geom_point(alpha = 2, color = "cornflowerblue") +
  labs(title = "Tempo vs Popularity",
       x = "Tempo",
       y = "Popularity") +
  theme_minimal()
```

```{r}
spofity_songs_summary <- spotify_songs_cleaned |>
  group_by(tempo) |>
  summarise(
    avg_pop = mean(track_popularity, na.rm = TRUE),
    max_pop = max(track_popularity, na.rm = TRUE),
    min_pop = min(track_popularity, na.rm = TRUE),
    number_of_songs = n()
  )
spofity_songs_summary
```


```{r}
spotify_songs_cleaned <- spotify_songs_cleaned |>
  mutate(duration_min = duration_ms / (1000 * 60))
# converted milliseconds to minutes 
```

Duration in comparison to popularity
```{r}
ggplot(data = spotify_songs_cleaned, aes(x = track_popularity, y = duration_min)) +
  geom_point(fill = "cornflowerblue") +
  labs(title = "Duration vs Popularity",
       x = "Track Popularity",
       y = "Minutes") +
  theme_minimal()

```
Most songs are around 3-4 minutes. It seems like songs closer to 3 minutes are more popular but there isn't a huge correlation between duration of a song and it's popularity.


How do Tempo and Duration relate to Popularity 
```{r}
ggplot(data = spotify_songs_cleaned, aes(x = tempo, y = duration_min, color = track_popularity)) +
  geom_point() +
  scale_color_viridis_c() +
  labs(title = "Popularity in Relation to Tempo and Duration",
       x = "Tempo (BPD)",
       y = "Duration (minutes)",
       color = "Popularity") +
  theme_minimal() 
```




